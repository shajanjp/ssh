---
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Terminal</title>
    <meta name="theme-color" content="#000" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"/>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="window">
      Welcome to <a href="http://shajanjacob.com">shajanjacob.com</a><br>
      * Home: <a href="http://shajanjacob.com">http://shajanjacob.com</a><br>
      * Blog: <a href="http://shajanjacob.com/blog">http://shajanjacob.com/blog</a><br>
      * Projects: <a href="http://shajanjacob.com/projects">http://shajanjacob.com/projects</a><br>
      * Contact: <a href="http://shajanjacob.com/contact">http://shajanjacob.com/contact</a><br><br>

      15 projects completed.<br>
      2 blogs written.<br>
      12 photos added.<br><br>

      *** Everything working perfect ***<br>
      Last login: Fri Sep 20 16:44:06 2019 from 122.166.65.49<br>
      <span class="stdout-text">~</span>$<input type="text" />
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      const mainTree = {{ site.data.content | jsonify }};
    </script>
    <script src="js/data-feeder.js"></script>
    <script>
      let commandsPrediction = ['cd', 'ls', 'cat', 'man', 'whoami'];
      let filesystemPrediction = [];
      $('input:last').val('');
      $('input:last').focus();

      $(document).on('click', function(e){
         $('input:last').focus();
      })

      // Enter Key Handler
      $(document).on('keyup', 'input', function(e) {
        if (e.keyCode == 13) {
          let stdin = this.value;
          if(stdin == 'clear'){
            $('.window').html(`$<input type="text">`)
          }
          else{
            $('.window').append(getReplay(stdin));
          }
          $('input:last').focus();
        }
      });

      // Prediction
      $(document).on('keydown', 'input', function(e) {
        if (e.keyCode == 9) {
          let CommandFromUser = this.value.split(' ');
          let lastCommandFromUser = CommandFromUser[CommandFromUser.length - 1];
          let predictionFound = false;

          predictionFound = commandsPrediction.find(function(element) {
            return element.startsWith(lastCommandFromUser);
          });

          console.log('predictionFound', predictionFound);

          if (!predictionFound) {
            console.log(
              'inside fsp',
              filesystemPrediction,
              lastCommandFromUser
            );
            predictionFound = filesystemPrediction.find(function(element) {
              return element.startsWith(lastCommandFromUser);
            });
          }

          $(this).val(`${CommandFromUser.slice(0, -1)} ${predictionFound}`);
          $(this).focus();
          e.preventDefault();
        }
      });
    </script>
  </body>
</html>